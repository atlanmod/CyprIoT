thing Temperature {
	message sendTemp()
	message recTemp()
	required port inout {
		sends sendTemp receives recTemp
	}
	statechart Temperature init Greetings {
		state Greetings {
			transition -> Bye action do
				print "Hello World!\n"
				inout!sendTemp()
			end
		}
		state Bye {
			on entry print "Bye.\n"
		}
	}
}
protocol MQTT @serializer "JSON" ;

configuration myTemperature {
	instance temp : Temperature
	connector temp.inout over MQTT
}
