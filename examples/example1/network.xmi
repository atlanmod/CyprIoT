<?xml version="1.0" encoding="ASCII"?>
<cyprIoT:CyprIoTModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cyprIoT="http://www.atlanmod.org/CyprIoT">
  <declareThings name="server" importPath="thing1.thingml"/>
  <declareThings name="thing2" importPath="thing2.thingml"/>
  <declareChannels xsi:type="cyprIoT:PubSub" name="openHabBroker">
    <hasTopics name="topic1"/>
  </declareChannels>
  <specifyNetworks name="openhabNetwork">
    <domain name="ca.levio.cilstack.openhab"/>
    <instantiate xsi:type="cyprIoT:InstanceThing" name="myThing1" thingToInstantiate="//@declareThings.0" targetedPlatform="JAVA"/>
    <instantiate xsi:type="cyprIoT:InstanceThing" name="myThing2" thingToInstantiate="//@declareThings.1"/>
    <instantiate xsi:type="cyprIoT:InstancePubSub" name="broker1" pubSubToInstantiate="//@declareChannels.0"/>
    <hasBinds bindsInstanceThing="//@specifyNetworks.0/@instantiate.0" bindAction="=>">
      <portToBind href="network.cy#|4"/>
      <channelToBind xsi:type="cyprIoT:ToBindPubSub" targetedPubSubInstance="//@specifyNetworks.0/@instantiate.2" topics="//@declareChannels.0/@hasTopics.0"/>
    </hasBinds>
    <hasBinds bindsInstanceThing="//@specifyNetworks.0/@instantiate.1">
      <portToBind href="network.cy#|8"/>
      <channelToBind xsi:type="cyprIoT:ToBindPubSub" targetedPubSubInstance="//@specifyNetworks.0/@instantiate.2" topics="//@declareChannels.0/@hasTopics.0"/>
    </hasBinds>
  </specifyNetworks>
</cyprIoT:CyprIoTModel>
