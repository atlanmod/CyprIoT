thing device1 {
	message m(mess : UInt8)
	required port myport @sync_send `true` {
		sends m
	}
	statechart HelloStateChart init HelloState {
		final state HelloState {
			on entry do
				println "Sending..."
				myport!m(1)
			end
		}
	}
}
datatype UInt8<1>
	@type_checker `Integer`
	@c_type `uint8_t`
	@java_type `byte`
	@js_type `byte`

protocol MQTT
	@mqtt_broker_address `mqtt.eclipse.org`
	@mqtt_port_number `1883`
	@serializer `JSON`

configuration device1_Cfg {
	instance mydevice1 : device1
	connector mydevice1.myport over MQTT @mqtt_publish_topic `ThingML`
}
