thing Thing1{
	
	// Added new Port for triggers
	message triggerTransition()
	provided port trigger {
		sends triggerTransition
	}
	
	
	statechart thing1 init state1{
		state state1 {
			// Some behavior
		}
		state state2 {
			// Some behavior
			
			// Added code
			on entry do trigger!triggerTransition() end
			
		}
	}
}

protocol MQTT;

configuration thing2Exec {
	instance thing1:Thing1
	connector thing1.trigger over MQTT @mqtt_publish"org/domainname/trigger" // Sending the trigger
}
